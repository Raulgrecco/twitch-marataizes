<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TV Marata√≠zes - Streaming ao vivo</title>
  <style>
    :root{
      --bg:#f7f5f0; --card:#ffffff; --brand:#f7b733; --ink:#333;
      --shadow:0 4px 14px rgba(0,0,0,.12); --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;
      margin:0; background:var(--bg); color:var(--ink);
      display:flex; flex-direction:column; align-items:center;
    }
    header{
      background:var(--brand); color:#222; width:100%;
      padding:1rem 0; text-align:center; font-weight:700; font-size:1.8rem;
      box-shadow:0 2px 5px rgba(0,0,0,.15); position:relative;
    }
    .page{
      width:100%; display:flex; flex-direction:column; align-items:center;
      position:relative;
    }
    .weather-float{
      position:absolute; top:10px; right:10px; z-index:9999;
      width:400px; height:260px; pointer-events:auto;
      filter: drop-shadow(0 6px 16px rgba(0,0,0,.18));
    }
    .weather-float iframe{
      width:100%; height:100%; border:0; border-radius:10px; background:transparent;
    }
    main{
      display:flex; gap:1rem; width:min(1200px,92vw);
      margin:18px auto 24px; align-items:flex-start; flex-wrap:wrap;
    }
    #twitch-embed{
      flex:1 1 640px; min-width:300px; aspect-ratio:16/9;
      border-radius:10px; overflow:hidden; background:#000; box-shadow:var(--shadow);
    }
    .schedule{
      flex:1 1 350px; max-width:460px;
      background:var(--brand); border-radius:var(--radius);
      padding:1.5rem 1.6rem; box-shadow:var(--shadow);
      color:#3e0f5a; font-weight:700; line-height:1.45;
    }
    .schedule h2{margin:.2rem 0 1rem; font-size:1.6rem; display:flex; gap:.5rem; align-items:center}
    .schedule h2::before{content:"üì∫"}
    .schedule p{margin:.6rem 0; white-space:pre-line}
    .how-to-watch{
      width:min(600px,92vw); margin:24px auto; background:#fff3cd; color:#664d03;
      border-radius:12px; padding:1.5rem; box-shadow:var(--shadow);
    }
    .how-to-watch h2{font-size:1.6rem; margin:0 0 1rem}
    .how-to-watch h3{margin:1rem 0 .5rem}
    .how-to-watch ol{margin:0 0 .5rem; padding-left:1.2rem}
    footer{margin:18px 0 14px; font-size:.9rem; color:#777; text-align:center}
    a{color:var(--brand); font-weight:700; text-decoration:none}
    a:hover{text-decoration:underline}
    @media (max-width: 900px){
      .weather-float{transform:scale(.85); transform-origin:top right;}
    }
    @media (max-width: 700px){
      .weather-float{transform:scale(.7); transform-origin:top right;}
      main{flex-direction:column}
      #twitch-embed,.schedule{width:100%; max-width:none}
    }
    /* ticker */
    :root{
      --ticker-h:50px; --ticker-bg:rgba(0,0,0,.7); --ticker-tag:#d50000;
      --ticker-text:#fff; --ticker-speed:25s; --ticker-gap:40px;
      --ticker-font:700 22px/1 Arial, Helvetica, sans-serif;
    }
    .ticker-wrap{
      width:100%; height:var(--ticker-h); position:fixed; left:0; bottom:0;
      display:flex; align-items:center; background:var(--ticker-bg); z-index:99999;
    }
    .ticker-tag{
      background:var(--ticker-tag); color:var(--ticker-text);
      font:var(--ticker-font); height:100%; display:flex; align-items:center; padding:0 14px;
    }
    .ticker-track{
      position:relative; flex:1; height:100%; overflow:hidden;
    }
    .ticker-marquee{
      position:absolute; white-space:nowrap; will-change:transform;
      display:inline-block; color:var(--ticker-text); font:var(--ticker-font);
      padding-left:20px; animation:ticker-scroll var(--ticker-speed) linear infinite;
    }
    .ticker-bullet{opacity:.55;padding:0 18px}
    @keyframes ticker-scroll{
      from{transform:translateX(100%)} to{transform:translateX(-100%)}
    }
  </style>
  <script>
    if (location.search.includes('fbclid')){
      const u=new URL(location.href); u.searchParams.delete('fbclid');
      history.replaceState({},document.title,u.toString());
    }
  </script>
  <script src="https://player.twitch.tv/js/embed/v1.js"></script>
</head>
<body>
  <header>TV Marata√≠zes - Streaming ao vivo</header>

  <div class="page">
    <div class="weather-float" aria-label="Clima em Marata√≠zes">
      <iframe src="https://www.meteoblue.com/en/weather/widget/daily/marataizes_brazil_3457819?geoloc=fixed&days=5&tempunit=CELSIUS&windunit=KILOMETER_PER_HOUR&precipunit=MILLIMETER&coloured=coloured&pictoicon=1&maxtemperature=1&mintemperature=1&windspeed=1&windgust=0&winddirection=1&uv=0&humidity=0&precipitation=1&precipitationprobability=1&spot=1&pressure=0&layout=light" frameborder="0" scrolling="NO" allowtransparency="true" sandbox="allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"></iframe>
    </div>

    <main>
      <div id="twitch-embed"></div>
      <section class="schedule">
        <h2>Hor√°rios da TV Marata√≠zes</h2>
        <p>‚ú® Na TV Marata√≠zes j√° est√° no ar:</p>
        <p>üåü Programa√ß√£o variada e divertida das 18h √† meia-noite, com m√∫sica, entretenimento e conte√∫dos para toda a fam√≠lia.</p>
        <p>üõçÔ∏è Em breve, de 12h √†s 18h:</p>
        <p>Ofertas imperd√≠veis dos melhores clientes e fornecedores de Marata√≠zes, Itapemirim e Presidente Kennedy!</p>
        <p>‚è∞ Fique ligado, toda semana lan√ßaremos promo√ß√µes especiais para voc√™ aproveitar.</p>
      </section>
    </main>

    <section class="how-to-watch">
      <h2>Como assistir √† TV Marata√≠zes pelo Twitch:</h2>
      <h3>No celular:</h3>
      <ol>
        <li>Instale o app <strong>Twitch</strong> (Google Play/App Store).</li>
        <li>Procure por <strong>TV Marata√≠zes</strong> e siga o canal.</li>
      </ol>
      <h3>Na smart TV:</h3>
      <ol>
        <li>Abra/instale o app Twitch na sua TV.</li>
        <li>Busque por <strong>TV Marata√≠zes</strong>.</li>
      </ol>
      <h3>No computador:</h3>
      <ol>
        <li>Acesse <a href="https://www.twitch.tv" target="_blank">twitch.tv</a>.</li>
        <li>Siga o canal <strong>TV Marata√≠zes</strong>.</li>
      </ol>
    </section>

    <footer>
      Acompanhe tamb√©m em <a href="https://www.tvmarataizes.com.br">www.tvmarataizes.com.br</a><br/>
      Direitos reservados ¬© 2025
    </footer>
  </div>

  <!-- ticker -->
  <div class="ticker-wrap">
    <div class="ticker-tag">AO VIVO</div>
    <div class="ticker-track"><div class="ticker-marquee" id="mq">Carregando‚Ä¶</div></div>
  </div>
  <script>
    const SOURCE_URL = "https://www.tvmarataizes.com.br/data/ticker.txt";
    const SEP = ' <span class="ticker-bullet">‚Ä¢</span> ';
    const mq = document.getElementById('mq');

    async function carregarTicker() {
      try {
        const res = await fetch(SOURCE_URL + "?_=" + Date.now(), {cache:"no-store"});
        if (!res.ok) throw new Error(res.status);
        const txt = await res.text();
        const linhas = txt.split(/\r?\n/).map(s => s.trim()).filter(Boolean);
        mq.innerHTML = (linhas.length ? linhas.join(SEP) + SEP : " ");
      } catch(e){
        console.error("Erro no ticker:", e);
      }
    }
    carregarTicker();
    setInterval(carregarTicker, 20000);
  </script>

  <script>
    new Twitch.Embed("twitch-embed", {
      width:"100%", height:"100%",
      channel:"tvmarataizes",
      parent:["www.tvmarataizes.com.br","tvmarataizes.com.br","localhost"]
    });
  </script>
</body>
</html>
