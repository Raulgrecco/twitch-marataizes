<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>TV MarataÃ­zes â€” ao vivo</title>
  <meta name="description" content="TV MarataÃ­zes: canal de TV digital do Sul do EspÃ­rito Santo. ProgramaÃ§Ã£o ao vivo, quadros originais e cobertura regional." />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="theme-color" content="#000" />
  <link rel="canonical" href="https://tvmarataizes.digital/" />
  <style>
    :root{ --bg:#000; --fg:#fff; --muted:rgba(255,255,255,.72); --accent:#ff3355;
           --tile:rgba(255,255,255,.85); --chip:rgba(255,255,255,.65); }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif}
    a{color:inherit}
    header{display:flex;justify-content:center;align-items:center;gap:.6rem;padding:14px}
    .dot{width:10px;height:10px;border-radius:999px;background:var(--accent)}
    .brand{font-weight:900;font-size:clamp(18px,2.4vw,24px)}
    .wrap{max-width:1200px;margin:0 auto;padding:0 12px 28px}

    /* PLAYER */
    .player{position:relative;width:100%;aspect-ratio:16/9;background:#000;overflow:hidden;border-radius:12px}
    .player iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    /* OVERLAY: hora/clima no topo do player */
    .tvm-topbar{
      position:absolute; top:8px; left:8px; right:8px;
      display:flex; justify-content:space-between; gap:8px; pointer-events:none;
    }
    .tvm-pill{
      pointer-events:auto; background:rgba(0,0,0,.55); color:#fff;
      padding:6px 10px; border-radius:999px;
      font:600 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial;
      border:1px solid rgba(255,255,255,.15)
    }

    /* TARJA Agora / A seguir (abaixo do vÃ­deo) */
    .tvm-epgbar{
      margin:12px 0 16px; padding:10px 12px; border-radius:14px; background:#0b0b0b; border:1px solid #222;
      display:flex; align-items:center; gap:24px; flex-wrap:wrap;
    }
    .tvm-col{min-width:240px}
    .tvm-epgtitle{color:#fff; font:800 20px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial}
    .tvm-epgsub{color:#d2d2d2; font:500 16px/1.25 system-ui, -apple-system, Segoe UI, Roboto, Arial; margin-top:2px}

    .tvm-install{
      margin-left:auto; padding:10px 16px; border-radius:999px; border:0;
      font:700 14px system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:#fff; color:#000; cursor:default; /* cenogrÃ¡fico */
      white-space:nowrap;
    }
    @media (max-width:520px){ .tvm-epgbar{gap:12px} .tvm-install{margin-left:0} }

    /* PATROCINADORES */
    .sponsors{max-width:1100px;margin:14px auto 10px}
    .sponsors h2{margin:8px 4px 10px;font:700 clamp(16px,2.6vw,20px)/1.2 system-ui}
    .tiles{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
    .tile{background:var(--tile);backdrop-filter:saturate(120%) blur(2px);border:1px solid rgba(255,255,255,.25);
          border-radius:12px;min-height:56px;padding:6px 10px;display:flex;flex-direction:column;justify-content:center;
          align-items:center;text-align:center;box-shadow:0 2px 6px rgba(0,0,0,.15)}
    .tile .name{font-weight:800;font-size:clamp(13px,2.2vw,15px)}
    .tile .cta{margin-top:4px;font-size:13px;background:rgba(0,0,0,.15);border-radius:8px;padding:3px 8px}
    .tile .cta a{text-decoration:none}
    .placeholder{opacity:.75}

    /* TEXTO */
    .about{max-width:980px;margin:16px auto 32px}
    .about h1{margin:0 0 12px;font-size:clamp(20px,3.6vw,30px);font-weight:900}
    .lead{color:var(--muted);font-size:clamp(14px,2.4vw,17px);line-height:1.7;margin:0}
    .copy{margin-top:14px;color:var(--fg);font-size:clamp(15px,2.6vw,18px);line-height:1.75}
    .tip{margin-top:10px;font-size:clamp(12px,2.6vw,14px);opacity:.7;display:none}

    /* APOIOS */
    .supports{max-width:1100px;margin:20px auto 0}
    .supports h3{margin:6px 4px 8px;font:700 clamp(15px,2.4vw,18px)/1.2 system-ui;opacity:.9}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{background:var(--chip);border:1px solid rgba(255,255,255,.25);border-radius:999px;height:30px;padding:4px 8px;
          display:flex;align-items:center;gap:10px;box-shadow:0 1px 4px rgba(0,0,0,.12);white-space:nowrap}
    .chip .n{font-weight:700;font-size:13px}
    .chip .w a{text-decoration:none;background:rgba(0,0,0,.18);padding:3px 7px;border-radius:8px;font-size:12px}

    @media (max-width:1200px){
      .tiles{grid-template-columns:repeat(2,1fr)}
      .tiles .tile:nth-child(5){grid-column:1/span 2}
    }
    @media (max-width:420px){ .about{margin-top:12px} .player{border-radius:10px} }
  </style>
</head>
<body>
  <header>
    <span class="dot" aria-hidden="true"></span>
    <div class="brand">TV MarataÃ­zes â€” Ao Vivo</div>
  </header>

  <main class="wrap">
    <!-- PLAYER -->
    <div class="player" aria-label="Player ao vivo">
      <iframe
        src="https://player.castr.com/vod/lUhXpRR3Gwq6KwVV?loop=on&autoplay=on&muted=on"
        width="100%"
        style="aspect-ratio: 16/9; min-height: 340px;"
        frameborder="0"
        scrolling="no"
        allow="autoplay; fullscreen; picture-in-picture; encrypted-media"
        allowfullscreen
        webkitallowfullscreen
        mozallowfullscreen
        oallowfullscreen
        msallowfullscreen>
      </iframe>

      <!-- OVERLAY: hora/clima (temperatura real via JS) -->
      <div class="tvm-topbar">
        <span class="tvm-pill" id="tvm-weather-pill">
          MarataÃ­zes â›… <span id="tvm-weather">--Â°C</span>
        </span>
        <span class="tvm-pill" id="tvm-clock">--:--</span>
      </div>
    </div>

    <!-- TARJA Agora / A seguir (cenogrÃ¡fica) -->
    <div class="tvm-epgbar" aria-label="Barra de programaÃ§Ã£o">
      <div class="tvm-col">
        <div class="tvm-epgtitle">Agora</div>
        <div class="tvm-epgsub">MarataÃ­zes â€” ao vivo</div>
      </div>
      <div class="tvm-col">
        <div class="tvm-epgtitle">A seguir</div>
        <div class="tvm-epgsub">Itapemirim â€” ao vivo</div>
      </div>
      <button class="tvm-install" type="button" aria-disabled="true">Instalar TV MarataÃ­zes</button>
    </div>

    <p id="fallback" style="display:none;color:#fff;opacity:.85;margin:10px 2px;">
      Se o player nÃ£o carregar,
      <a href="https://player.castr.com/vod/lUhXpRR3Gwq6KwVV?loop=on" target="_blank" rel="noopener">
        clique aqui para abrir o player direto
      </a>.
    </p>

    <!-- PATROCINADORES EXCLUSIVOS -->
    <!-- (mantive tudo igual abaixo do player, sem alteraÃ§Ã£o) -->
    <!-- ... -->
  </main>

  <script>
    (function(){
      const inApp=/Instagram|FBAN|FBAV|FB_IAB|TikTok/i.test(navigator.userAgent||"");
      if(inApp) document.getElementById('igTip')?.style.display='block';

      const el = document.getElementById('fallback');
      const to = setTimeout(()=> el.style.display='block', 6000);
      document.querySelector("iframe")?.addEventListener('load', ()=> clearTimeout(to), { once:true });

      function two(n){return n<10?'0'+n:n}
      function tick(){
        const d=new Date(), hh=two(d.getHours()), mm=two(d.getMinutes());
        const elClock=document.getElementById('tvm-clock'); if (elClock) elClock.textContent = `${hh}:${mm}`;
      }
      tick(); setInterval(tick, 15000);

      const TVM_LAT = -21.04, TVM_LON = -40.83;
      function weatherIcon(code){
        const map = {0:"â˜€ï¸",1:"ðŸŒ¤ï¸",2:"â›…",3:"â˜ï¸",45:"ðŸŒ«ï¸",48:"ðŸŒ«ï¸",51:"ðŸŒ¦ï¸",53:"ðŸŒ¦ï¸",55:"ðŸŒ§ï¸",
                     56:"ðŸŒ§ï¸",57:"ðŸŒ§ï¸",61:"ðŸŒ§ï¸",63:"ðŸŒ§ï¸",65:"ðŸŒ§ï¸",66:"ðŸŒ§ï¸",67:"ðŸŒ§ï¸",
                     71:"â„ï¸",73:"â„ï¸",75:"â„ï¸",77:"â„ï¸",80:"ðŸŒ§ï¸",81:"ðŸŒ§ï¸",82:"â›ˆï¸",
                     95:"â›ˆï¸",96:"â›ˆï¸",99:"â›ˆï¸"};
        return map[code] || "â›…";
      }
      async function updateWeather(){
        try{
          const url = `https://api.open-meteo.com/v1/forecast?latitude=${TVM_LAT}&longitude=${TVM_LON}&current=temperature_2m,weather_code&timezone=auto`;
          const res = await fetch(url, { cache: "no-store" });
          const data = await res.json();
          const t = Math.round(data?.current?.temperature_2m ?? NaN);
          const icon = weatherIcon(data?.current?.weather_code);
          const pill = document.getElementById('tvm-weather-pill');
          if (pill && Number.isFinite(t)){
            pill.innerHTML = `MarataÃ­zes ${icon} <span id="tvm-weather">${t}Â°C</span>`;
          }
        } catch(e){}
      }
      updateWeather();
      setInterval(updateWeather, 10 * 60 * 1000);
    })();
  </script>

  <noscript><p style="color:#fff;opacity:.8">Ative o JavaScript para assistir ao vivo.</p></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>TV MarataÃ­zes â€” ao vivo</title>
  <meta name="description" content="TV MarataÃ­zes: canal de TV digital do Sul do EspÃ­rito Santo. ProgramaÃ§Ã£o ao vivo, quadros originais e cobertura regional." />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="theme-color" content="#000" />
  <link rel="canonical" href="https://tvmarataizes.digital/" />
  <style>
    :root{ --bg:#000; --fg:#fff; --muted:rgba(255,255,255,.72); --accent:#ff3355;
           --tile:rgba(255,255,255,.85); --chip:rgba(255,255,255,.65); }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif}
    a{color:inherit}
    header{display:flex;justify-content:center;align-items:center;gap:.6rem;padding:14px}
    .dot{width:10px;height:10px;border-radius:999px;background:var(--accent)}
    .brand{font-weight:900;font-size:clamp(18px,2.4vw,24px)}
    .wrap{max-width:1200px;margin:0 auto;padding:0 12px 28px}

    /* PLAYER */
    .player{position:relative;width:100%;aspect-ratio:16/9;background:#000;overflow:hidden;border-radius:12px}
    .player iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    /* OVERLAY: hora/clima no topo do player */
    .tvm-topbar{
      position:absolute; top:8px; left:8px; right:8px;
      display:flex; justify-content:space-between; gap:8px; pointer-events:none;
    }
    .tvm-pill{
      pointer-events:auto; background:rgba(0,0,0,.55); color:#fff;
      padding:6px 10px; border-radius:999px;
      font:600 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial;
      border:1px solid rgba(255,255,255,.15)
    }

    /* TARJA Agora / A seguir (abaixo do vÃ­deo) */
    .tvm-epgbar{
      margin:12px 0 16px; padding:10px 12px; border-radius:14px; background:#0b0b0b; border:1px solid #222;
      display:flex; align-items:center; gap:24px; flex-wrap:wrap;
    }
    .tvm-col{min-width:240px}
    .tvm-epgtitle{color:#fff; font:800 20px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial}
    .tvm-epgsub{color:#d2d2d2; font:500 16px/1.25 system-ui, -apple-system, Segoe UI, Roboto, Arial; margin-top:2px}

    .tvm-install{
      margin-left:auto; padding:10px 16px; border-radius:999px; border:0;
      font:700 14px system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:#fff; color:#000; cursor:default; /* cenogrÃ¡fico */
      white-space:nowrap;
    }
    @media (max-width:520px){ .tvm-epgbar{gap:12px} .tvm-install{margin-left:0} }

    /* PATROCINADORES */
    .sponsors{max-width:1100px;margin:14px auto 10px}
    .sponsors h2{margin:8px 4px 10px;font:700 clamp(16px,2.6vw,20px)/1.2 system-ui}
    .tiles{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
    .tile{background:var(--tile);backdrop-filter:saturate(120%) blur(2px);border:1px solid rgba(255,255,255,.25);
          border-radius:12px;min-height:56px;padding:6px 10px;display:flex;flex-direction:column;justify-content:center;
          align-items:center;text-align:center;box-shadow:0 2px 6px rgba(0,0,0,.15)}
    .tile .name{font-weight:800;font-size:clamp(13px,2.2vw,15px)}
    .tile .cta{margin-top:4px;font-size:13px;background:rgba(0,0,0,.15);border-radius:8px;padding:3px 8px}
    .tile .cta a{text-decoration:none}
    .placeholder{opacity:.75}

    /* TEXTO */
    .about{max-width:980px;margin:16px auto 32px}
    .about h1{margin:0 0 12px;font-size:clamp(20px,3.6vw,30px);font-weight:900}
    .lead{color:var(--muted);font-size:clamp(14px,2.4vw,17px);line-height:1.7;margin:0}
    .copy{margin-top:14px;color:var(--fg);font-size:clamp(15px,2.6vw,18px);line-height:1.75}
    .tip{margin-top:10px;font-size:clamp(12px,2.6vw,14px);opacity:.7;display:none}

    /* APOIOS */
    .supports{max-width:1100px;margin:20px auto 0}
    .supports h3{margin:6px 4px 8px;font:700 clamp(15px,2.4vw,18px)/1.2 system-ui;opacity:.9}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{background:var(--chip);border:1px solid rgba(255,255,255,.25);border-radius:999px;height:30px;padding:4px 8px;
          display:flex;align-items:center;gap:10px;box-shadow:0 1px 4px rgba(0,0,0,.12);white-space:nowrap}
    .chip .n{font-weight:700;font-size:13px}
    .chip .w a{text-decoration:none;background:rgba(0,0,0,.18);padding:3px 7px;border-radius:8px;font-size:12px}

    @media (max-width:1200px){
      .tiles{grid-template-columns:repeat(2,1fr)}
      .tiles .tile:nth-child(5){grid-column:1/span 2}
    }
    @media (max-width:420px){ .about{margin-top:12px} .player{border-radius:10px} }
  </style>
</head>
<body>
  <header>
    <span class="dot" aria-hidden="true"></span>
    <div class="brand">TV MarataÃ­zes â€” Ao Vivo</div>
  </header>

  <main class="wrap">
    <!-- PLAYER -->
    <div class="player" aria-label="Player ao vivo">
      <iframe
        src="https://player.castr.com/vod/lUhXpRR3Gwq6KwVV?loop=on&autoplay=on&muted=on"
        width="100%"
        style="aspect-ratio: 16/9; min-height: 340px;"
        frameborder="0"
        scrolling="no"
        allow="autoplay; fullscreen; picture-in-picture; encrypted-media"
        allowfullscreen
        webkitallowfullscreen
        mozallowfullscreen
        oallowfullscreen
        msallowfullscreen>
      </iframe>

      <!-- OVERLAY: hora/clima (temperatura real via JS) -->
      <div class="tvm-topbar">
        <span class="tvm-pill" id="tvm-weather-pill">
          MarataÃ­zes â›… <span id="tvm-weather">--Â°C</span>
        </span>
        <span class="tvm-pill" id="tvm-clock">--:--</span>
      </div>
    </div>

    <!-- TARJA Agora / A seguir (cenogrÃ¡fica) -->
    <div class="tvm-epgbar" aria-label="Barra de programaÃ§Ã£o">
      <div class="tvm-col">
        <div class="tvm-epgtitle">Agora</div>
        <div class="tvm-epgsub">MarataÃ­zes â€” ao vivo</div>
      </div>
      <div class="tvm-col">
        <div class="tvm-epgtitle">A seguir</div>
        <div class="tvm-epgsub">Itapemirim â€” ao vivo</div>
      </div>
      <button class="tvm-install" type="button" aria-disabled="true">Instalar TV MarataÃ­zes</button>
    </div>

    <p id="fallback" style="display:none;color:#fff;opacity:.85;margin:10px 2px;">
      Se o player nÃ£o carregar,
      <a href="https://player.castr.com/vod/lUhXpRR3Gwq6KwVV?loop=on" target="_blank" rel="noopener">
        clique aqui para abrir o player direto
      </a>.
    </p>

    <!-- PATROCINADORES EXCLUSIVOS -->
    <!-- (mantive tudo igual abaixo do player, sem alteraÃ§Ã£o) -->
    <!-- ... -->
  </main>

  <script>
    (function(){
      const inApp=/Instagram|FBAN|FBAV|FB_IAB|TikTok/i.test(navigator.userAgent||"");
      if(inApp) document.getElementById('igTip')?.style.display='block';

      const el = document.getElementById('fallback');
      const to = setTimeout(()=> el.style.display='block', 6000);
      document.querySelector("iframe")?.addEventListener('load', ()=> clearTimeout(to), { once:true });

      function two(n){return n<10?'0'+n:n}
      function tick(){
        const d=new Date(), hh=two(d.getHours()), mm=two(d.getMinutes());
        const elClock=document.getElementById('tvm-clock'); if (elClock) elClock.textContent = `${hh}:${mm}`;
      }
      tick(); setInterval(tick, 15000);

      const TVM_LAT = -21.04, TVM_LON = -40.83;
      function weatherIcon(code){
        const map = {0:"â˜€ï¸",1:"ðŸŒ¤ï¸",2:"â›…",3:"â˜ï¸",45:"ðŸŒ«ï¸",48:"ðŸŒ«ï¸",51:"ðŸŒ¦ï¸",53:"ðŸŒ¦ï¸",55:"ðŸŒ§ï¸",
                     56:"ðŸŒ§ï¸",57:"ðŸŒ§ï¸",61:"ðŸŒ§ï¸",63:"ðŸŒ§ï¸",65:"ðŸŒ§ï¸",66:"ðŸŒ§ï¸",67:"ðŸŒ§ï¸",
                     71:"â„ï¸",73:"â„ï¸",75:"â„ï¸",77:"â„ï¸",80:"ðŸŒ§ï¸",81:"ðŸŒ§ï¸",82:"â›ˆï¸",
                     95:"â›ˆï¸",96:"â›ˆï¸",99:"â›ˆï¸"};
        return map[code] || "â›…";
      }
      async function updateWeather(){
        try{
          const url = `https://api.open-meteo.com/v1/forecast?latitude=${TVM_LAT}&longitude=${TVM_LON}&current=temperature_2m,weather_code&timezone=auto`;
          const res = await fetch(url, { cache: "no-store" });
          const data = await res.json();
          const t = Math.round(data?.current?.temperature_2m ?? NaN);
          const icon = weatherIcon(data?.current?.weather_code);
          const pill = document.getElementById('tvm-weather-pill');
          if (pill && Number.isFinite(t)){
            pill.innerHTML = `MarataÃ­zes ${icon} <span id="tvm-weather">${t}Â°C</span>`;
          }
        } catch(e){}
      }
      updateWeather();
      setInterval(updateWeather, 10 * 60 * 1000);
    })();
  </script>

  <noscript><p style="color:#fff;opacity:.8">Ative o JavaScript para assistir ao vivo.</p></noscript>
</body>
</html>
