<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
<title>Overlay TV Marata√≠zes</title>
<style>
  :root{
    --accent:#f7b733;          /* cor da borda da tarja */
    --bg-ticker:rgba(0,0,0,.72);
    --txt:#ffffff;
    --shadow:0 10px 28px rgba(0,0,0,.28);
  }
  html,body{height:100%; margin:0; background:transparent;}
  /* container ocupa a tela inteira e n√£o capta cliques */
  .overlay{position:fixed; inset:0; pointer-events:none;}

  /* PREVIS√ÉO (canto sup-esq) */
  .wx{position:absolute; top:18px; left:18px; width:min(540px,38vw); height:min(220px,22vh);
      filter:drop-shadow(var(--shadow));}
  .wx iframe{width:100%; height:100%; border:0; background:transparent;}

  /* TARJA DE NOT√çCIAS (em baixo) */
  .ticker{
    position:absolute; left:0; right:0; bottom:0; height:64px;
    background:var(--bg-ticker); color:var(--txt); pointer-events:none;
    display:flex; align-items:center; overflow:hidden;
    border-top:3px solid var(--accent);
    font:600 18px/1.2 "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, Arial, sans-serif;
  }
  .ticker .label{
    pointer-events:none; flex:0 0 auto; padding:0 14px; margin-right:10px;
    background:var(--accent); color:#1a1a1a; height:100%; display:flex; align-items:center;
    text-transform:uppercase; letter-spacing:.4px; font-weight:800;
  }
  .ticker .track{position:relative; flex:1 1 auto; overflow:hidden; height:100%;}
  .ticker .scroll{
    position:absolute; white-space:nowrap; will-change:transform;
    padding-left:100%; /* come√ßa fora da tela */
    animation:marquee 35s linear infinite;
  }
  .dot{display:inline-block; width:8px; height:8px; margin:0 18px; border-radius:50%; background:var(--accent);}
  @keyframes marquee{
    0%   { transform:translateX(0); }
    100% { transform:translateX(-100%); }
  }

  /* Ajustes responsivos */
  @media (max-width: 900px){
    .ticker{height:54px; font-size:16px}
  }
  @media (max-width: 600px){
    .wx{width:88vw; height:28vh}
    .ticker{height:50px; font-size:15px}
  }
</style>
</head>
<body>
  <div class="overlay">
    <!-- PREVIS√ÉO -->
    <div class="wx" aria-label="Clima em Marata√≠zes">
      <iframe id="wxFrame"
        src="https://www.meteoblue.com/en/weather/widget/daily/marataizes_brazil_3457819?geoloc=fixed&days=5&tempunit=CELSIUS&windunit=KILOMETER_PER_HOUR&precipunit=MILLIMETER&coloured=coloured&pictoicon=1&maxtemperature=1&mintemperature=1&windspeed=1&windgust=0&winddirection=1&uv=0&humidity=0&precipitation=1&precipitationprobability=1&spot=1&pressure=0&layout=light"
        frameborder="0" scrolling="NO" allowtransparency="true"
        sandbox="allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox">
      </iframe>
    </div>

    <!-- TARJA -->
    <div class="ticker" role="marquee" aria-label="Manchetes">
      <div class="label">Ao vivo</div>
      <div class="track">
        <div id="scroll" class="scroll">
          <span id="text">
            üî¥ TV Marata√≠zes ao vivo ‚Äî üìç Marata√≠zes, Itapemirim e Presidente Kennedy |
            ‚òÄÔ∏è Previs√£o: veja acima | üí¨ Siga: twitch.tv/tvmarataizes |
            üì¢ Anuncie na TV Marata√≠zes: comercial@tvmarataizes.com.br
          </span>
        </div>
      </div>
    </div>
  </div>

<script>
  // Permite trocar o texto e a velocidade pela URL:
  // ?t=Seu%20texto%20aqui&s=30  (s = dura√ß√£o da anima√ß√£o em segundos)
  (function(){
    const p = new URLSearchParams(location.search);
    const t = p.get('t');
    const s = parseFloat(p.get('s'));
    if (t) document.getElementById('text').textContent = t;
    if (!isNaN(s) && s > 5) document.getElementById('scroll').style.animationDuration = s + 's';
  })();

  // Recarrega a previs√£o a cada 10 min para manter atualizada
  setInterval(()=> {
    const fr = document.getElementById('wxFrame');
    const u = new URL(fr.src);
    u.searchParams.set('_ts', Date.now());  // bust cache
    fr.src = u.toString();
  }, 10 * 60 * 1000);
</script>
</body>
</html>
